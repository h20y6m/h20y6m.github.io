<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>(u)pLaTeXã§ã‚‚ã£ã¨å’Œæ–‡å¤šæ›¸ä½“ã™ã‚‹è©± - h20y6m.github.io</title>
  <meta name="description" content="ã“ã‚Œã¯ã€ŒTeX ï¼† LaTeX Advent Calendar 2022ã€ã®15æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯(u)pTeXã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ”¹é€ ã—ã¦(u)pLaTeXã§ãŸãã•ã‚“å’Œæ–‡æ›¸ä½“ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ã¦ã¿ã¾ã™ã€‚">
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="/css/style.css" />
</head>

<body>

<header>
  <p><a href="/">h20y6m.github.io</a></p>
</header>

<main>

<div>
  <p>2022å¹´12æœˆ17æ—¥</p>
</div>

<h1>(u)pLaTeXã§ã‚‚ã£ã¨å’Œæ–‡å¤šæ›¸ä½“ã™ã‚‹è©±</h1>

<blockquote>
  <p>ã“ã‚Œã¯ã€Œ<a href="https://adventar.org/calendars/7868">TeX ï¼† LaTeX Advent Calendar 2022</a>ã€ã®15æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚<br>ï¼ˆ14æ—¥ç›®ã¯ <a href="https://qiita.com/yi_chemist/items/c4f5f8cc32e5b802a091" title="Markdownä¸­ã®ä¸‹ä»˜ãæ–‡å­—ã‚’Pandocã§Word/LaTeXå‡ºåŠ›ã™ã‚‹éš›ã«Luaãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã§å‡¦ç†ã—ã¦ã¿ã‚‹ - Qiita">yi_chemist ã•ã‚“</a>ã€16æ—¥ç›®ã¯ <a href="https://twitter.com/zr_tex8r/status/1603520887730290688" title="ZRğŸ™ƒçš„TeXã¾ã‚ã¡ã—ã / Twitter">zr_tex8r ã•ã‚“</a>ã§ã™ã€‚ï¼‰</p>
</blockquote>

<p><a href="https://adventar.org/calendars/7868">TeX ï¼† LaTeX Advent Calendar 2022</a>ã®15æ—¥ç›®ãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ï¼ˆ<a href="https://github.com/texjporg/tex-jp-build/issues/150" title="[npTeX] æ¬§æ–‡ãƒˆãƒ¼ã‚¯ãƒ³ã«ä¼¼ã›ãŸCJKãƒˆãƒ¼ã‚¯ãƒ³ Â· Issue #150 Â· texjporg/tex-jp-build Â· GitHub">npï½±ï¾šã®è©±</a>ãŒå‡ºã¦ããŸã®ã§ãƒœãƒ„ã«ã—ãŸï¼‰ãã ã‚‰ãªã„(u)pTeXæ”¹é€ ãƒã‚¿ã§åŸ‹ã‚ã¦ãŠãã¾ã™ã€‚</p>

<h2>(u)pLaTeXã§å’Œæ–‡å¤šæ›¸ä½“</h2>

<p>(u)pLaTeXã§å¤šæ›¸ä½“åŒ–ã¨è¨€ãˆã°<a href="https://www.ctan.org/pkg/japanese-otf">otfãƒ‘ãƒƒã‚±ãƒ¼ã‚¸</a>ã®deluxeã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ãŒã€ã“ã‚Œã§ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã®ã¯ãŸã£ãŸã®3æ›¸ä½“7ã‚¦ã‚§ã‚¤ãƒˆã§ã™ã€‚</p>

<p>ã‚‚ã£ã¨ä½¿ãˆã‚‹æ›¸ä½“ã‚’å¢—ã‚„ã—ãŸã„ã¨ãã¯doraTeXã•ã‚“ã®ã€Œ<a href="https://doratex.hatenablog.jp/entry/20161206/1480950097">(u)pTeX ã«ãŠã‘ã‚‹å’Œæ–‡å¤šæ›¸ä½“ã®å®Ÿç¾ ã€œSierraã®å…¨å’Œæ–‡ãƒ•ã‚©ãƒ³ãƒˆå‡ºåŠ›ã‚’ä¾‹ã¨ã—ã¦ã€œ</a>ã€ã®ã‚ˆã†ã«TFM/VFã‚’è¤‡è£½ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ä½¿ã„ãŸã„æ›¸ä½“ã®æ•°ã ã‘TFM/VFã‚’è¤‡è£½ã—ã¦å¢—ã‚„ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p>ã—ã‹ã—ã€ã€Œè¤‡è£½ã€ã¨ã„ã†ã‚ˆã†ã«ã“ã®TFMã¯å®Œå…¨ã«åŒä¸€ã§ã™ã—ã€VFã‚‚å‚ç…§TFMåã ã‘ãŒé•ã†ã ã‘ã§å®Ÿè³ªçš„ã«ä¸­èº«ã¯åŒã˜ã§ã™ã€‚åŒã˜ã‚‚ã®ã‚’ãŸãã•ã‚“è¤‡è£½ã™ã‚‹ã®ã¯ãªã‚“ã ã‹ã¨ã£ã¦ã‚‚è³‡æºã®ç„¡é§„ä½¿ã„ã«æ„Ÿã˜ã¦ã—ã¾ã—ã¾ã™ã€‚</p>

<p>ã—ã‹ã—ã“ã‚Œã¯æ›¸ä½“ã‚’å¢—ã‚„ã™ã«ã¯TFMã‚’å¢—ã‚„ã™ã—ã‹ãªã„ã¨ã„ã†(u)pTeXã‚¨ãƒ³ã‚¸ãƒ³ã®åˆ¶ç´„ãªã®ã§ã©ã†ã—ã‚ˆã†ã‚‚ã‚ã‚Šã¾ã›ã‚“â€¦â€¦ã€‚</p>

<h2>(u)pTeXã§ã‚‚ã£ã¨å’Œæ–‡å¤šæ›¸ä½“</h2>

<p>ã‚¨ãƒ³ã‚¸ãƒ³ã®åˆ¶ç´„ãªã‚‰ä»•æ–¹ã‚ã‚Šã¾ã›ã‚“â€¦â€¦ã€‚ã‚¨ãƒ³ã‚¸ãƒ³ã‚’æ”¹é€ ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ã‚‡ã†ï¼ï¼ˆãˆã£â‰ï¼‰</p>

<p>ã¾ãšTFMã®ã»ã†ã¯(u)pTeXã§<code>hoge:piyo</code>ã¨æŒ‡å®šã—ãŸå ´åˆã¯<code>hoge</code>ã¨ã¯ç•°ãªã‚‹ãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦æ‰±ã„ãªãŒã‚‰<code>hoge.tfm</code>ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚</p>

<p>ãã‚Œã‹ã‚‰DVIãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚<code>hoge:piyo</code>ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«åã§æ›¸ãå‡ºã•ã‚Œã‚‹ã®ã§ã€DVIã‚¦ã‚§ã‚¢ã§ã‚‚åŒæ§˜ã«<code>hoge:piyo</code>ã¨ã„ã†ãƒ•ã‚©ãƒ³ãƒˆåã®æ™‚ã«<code>hoge.tfm</code>ã‚’å‚ç…§ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã¾ãŸVFã«ã¤ã„ã¦ã‚‚<code>hoge.vf</code>ã‚’å‚ç…§ã™ã‚‹ã“ã¨ã—ã¾ã™ã€‚</p>

<p>ã•ã‚‰ã«<code>hoge.vf</code>ãŒ<code>fuga</code>ã‚’å‚ç…§ã—ã¦ã„ãŸå ´åˆã¯ã€<code>hoge:piyo</code>ã¨ã—ã¦å‚ç…§ã•ã‚ŒãŸã¨ãã¯<code>fuga:piyo</code>ã«èª­ã¿æ›¿ãˆã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚</p>

<p>ã•ã„ã”ã«ãƒ•ã‚©ãƒ³ãƒˆãƒãƒƒãƒ—ã«<code>fuga:piyo H piyo.ttf</code>ã®ã‚ˆã†ãªå®šç¾©ãŒã‚ã‚Œã°å®Ÿãƒ•ã‚©ãƒ³ãƒˆã¨ã—ã¦<code>piyo.ttf</code>ãŒä½¿ã‚ã‚Œã‚‹ã¨ã„ã†æ§‹æƒ³ã§ã™ã€‚</p>

<p>ï¼ˆ(u)pTeXæ”¹é€ ãƒã‚¿ãªã®ã«DVIã‚¦ã‚§ã‚¢ã®ã»ã†ãŒæ”¹é€ é‡ãŒå¤šã„æ°—ãŒã™ã‚‹â€¦â€¦ï¼‰</p>

<h2>ã‚„ã£ã¦ã¿ãŸ</h2>

<p>ã¨ã„ã†ã‚ã‘ã§ã€ã‚„ã£ã¦ã¿ã¾ã—ãŸã€‚</p>

<p><a href="https://github.com/h20y6m/tex-jp-build/tree/texadvent2022_2">GitHub - h20y6m/tex-jp-build at texadvent2022_2</a></p>

<p>ï¼ˆã‚“ï¼Ÿã€€dvipsï¼Ÿã€€çŸ¥ã‚‰ãªã„ã§ã™ã­ã‡â€¦â€¦ï¼‰</p>

<p>ã“ã‚“ãªæ„Ÿã˜ã§LaTeXã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰å¥½ããªã ã‘ãƒ•ã‚©ãƒ³ãƒˆã‚’ä½¿ãˆã¾ã™ã€‚</p>

<pre>
\documentclass[uplatex,dvipdfmx]{jlreq}
\usepackage{jlreq-deluxe}

\newcommand{\jlreqtfmprefix}{u}
\NewDocumentCommand \NewJaFont { m m m }
  {%
    \DeclareFontFamily{JY2}{#1}{}%
    \DeclareFontFamily{JT2}{#1}{}%
    \DeclareFontShape{JY2}{#1}{#2}{n}{&lt;-&gt;s*[1]\jlreqtfmprefix jlreq:#1-#2}{}%
    \DeclareFontShape{JT2}{#1}{#2}{n}{&lt;-&gt;s*[1]\jlreqtfmprefix jlreq-v:#1-#2}{}%
    \AtBeginDvi{%
      \special{pdf:mapline uprml-h:#1-#2  UniJIS2004-UTF16-H #3}%
      \special{pdf:mapline uprml-hq:#1-#2 UniJIS-UCS2-H      #3}%
      \special{pdf:mapline uprml-v:#1-#2  UniJIS2004-UTF16-V #3}%
    }%
  }
\NewJaFont{kyo}{m}{:0:UDDigiKyokashoN-R.ttc}
\NewJaFont{kyo}{b}{:0:UDDigiKyokashoN-B.ttc}
\NewJaFont{mei}{m}{:0:meiryo.ttc}
\NewJaFont{mei}{b}{:0:meiryob.ttc}
\NewJaFont{yum}{l}{yuminl.ttf}
\NewJaFont{yum}{m}{yumin.ttf}
\NewJaFont{yum}{b}{yumindb.ttf}
\NewJaFont{yug}{l}{:0:YuGothL.ttc}
\NewJaFont{yug}{m}{:0:YuGothM.ttc}
\NewJaFont{yug}{b}{:0:YuGothB.ttc}
\NewJaFont{msm}{m}{:0:msmincho.ttc}
\NewJaFont{msg}{m}{:0:msgothic.ttc}
\NewJaFont{bizm}{m}{:0:BIZ-UDMinchoM.ttc}
\NewJaFont{bizg}{m}{:0:BIZ-UDGothicR.ttc}
\NewJaFont{bizg}{b}{:0:BIZ-UDGothicB.ttc}
\NewDocumentCommand \kyofamily {} {\kanjifamily{kyo}\selectfont}
\NewDocumentCommand \meifamily {} {\kanjifamily{mei}\selectfont}
\NewDocumentCommand \yumfamily {} {\kanjifamily{yum}\selectfont}
\NewDocumentCommand \yugfamily {} {\kanjifamily{yug}\selectfont}
\NewDocumentCommand \msmfamily {} {\kanjifamily{msm}\selectfont}
\NewDocumentCommand \msgfamily {} {\kanjifamily{msg}\selectfont}
\NewDocumentCommand \bizmfamily{} {\kanjifamily{bizm}\selectfont}
\NewDocumentCommand \bizgfamily{} {\kanjifamily{bizg}\selectfont}

\begin{document}
{\mcfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\ltseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\gtfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\ebseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\kyofamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\meifamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\yumfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\ltseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\yugfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\ltseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\msmfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\msgfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
{\bizmfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bizgfamily å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚\bfseries å¾è¼©ã¯â˜ƒã§ã‚ã‚‹ã€‚}\par
\end{document}
</pre>

<p><img alt="å‡ºåŠ›ã‚µãƒ³ãƒ—ãƒ«" src="image.png"></p>

<h2>ã¾ã¨ã‚</h2>

<p>WEBè¨€èªã¨ã‹ï¼ˆCè¨€èªã¨ã‹ï¼‰ã—ã¾ã—ã‚‡ã†ï¼</p>

</main>

<footer>
  <p>&copy; 2022 h20y6m</p>
</footer>

</body>

</html>